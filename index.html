<!DOCTYPE html> 
<html>
<head>
	<title>jQuery Mobile Pages</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/jquery.mobile-1.3.1.min.css" />
	<!-- link to jQuery and jQuery Mobile JavaScript libraries: -->
	<script src="js/jquery-1.10.1.min.js"></script>
	<script src="js/jquery.mobile-1.3.1.min.js"></script>
	<script type="text/javascript" src="cordova.js"></script>

</head>

<body>

<!-- the div below is a page - the home page -->
<div data-role="page" id="home">

	<!-- the div below is the home page's header -->
	<div data-role="header">
		<h1>Home</h1>
		<div data-role="navbar">
	        <ul>
	            <li><a href="#home" class="ui-btn-active ui-state-persist" data-icon="home">Home</a></li>
	            <li><a href="#about" data-icon="star">About</a></li>
	            <li><a href="#contact" data-icon="info">Contact</a></li>
	        </ul>
	    </div>
	</div>

	<!-- the div below is the home page's main content -->
	<div data-role="content">
		<p>Home area</p>
		
	</div>

	<!-- the div below is the home page's footer -->
	<div data-role="footer">
		<h4>Location Finder @LSL</h4>
	</div>
</div>

<!-- the div below is a page - the about page -->
<div data-role="page" id="about">
	<div data-role="header">
		<h1>About</h1>
		<div data-role="navbar">
	        <ul>
	            <li><a href="#home" data-icon="home">Home</a></li>
	            <li><a href="#about" class="ui-btn-active ui-state-persist" data-icon="star">About</a></li>
	            <li><a href="#contact" data-icon="info">Contact</a></li>
	        </ul>
	    </div>
	</div>
	<div data-role="content">
		<p>About us</p>
		
	</div>
	<div data-role="footer" data-theme="e">
		<h4>Location Finder @LSL</h4>
	</div>
</div>

<!-- the div below is a page - the contact page -->
<div data-role="page" id="contact">
	<div data-role="header">
		<h1>Contact</h1>
		<div data-role="navbar">
	        <ul>
	            <li><a href="#home" data-icon="home">Home</a></li>
	            <li><a href="#about" data-icon="star">About</a></li>
	            <li><a href="#contact" class="ui-btn-active ui-state-persist" data-icon="info">Contact</a></li>
	        </ul>
	    </div>
	</div>
	<div data-role="content">
		<p>Our Contacts</p>
		
	</div>
	<div data-role="footer">
		<h4>Location Finder @LSL</h4>
	</div>
</div>
<script>
	//handle for orientation-change event:
	$(window).on('orientationchange', function(event) {
		alert(event.orientation);
	});
	
	// Check if device supports fingerprint
/**
* @return {
*      isAvailable:boolean,
*      isHardwareDetected:boolean,
*      hasEnrolledFingerprints:boolean
*   }
*/
FingerprintAuth.isAvailable(function (result) {

    console.log("FingerprintAuth available: " + JSON.stringify(result));
	alert("FingerprintAuth available: " + JSON.stringify(result));
    
    // If has fingerprint device and has fingerprints registered
    if (result.isAvailable == true && result.hasEnrolledFingerprints == true) {

        // Check the docs to know more about the encryptConfig object :)
        var encryptConfig = {
            clientId: "myAppName",
            username: "currentUser",
            password: "currentUserPassword",
            maxAttempts: 5,
            locale: "en_US",
            dialogTitle: "Hey dude, your finger",
            dialogMessage: "Put your finger on the device",
            dialogHint: "No one will steal your identity, promised"
        }; // See config object for required parameters

        // Set config and success callback
        FingerprintAuth.encrypt(encryptConfig, function(_fingerResult){
            console.log("successCallback(): " + JSON.stringify(_fingerResult));
            if (_fingerResult.withFingerprint) {
                console.log("Successfully encrypted credentials.");
		 alert("Successfully encrypted credentials.");
                console.log("Encrypted credentials: " + result.token);  
            } else if (_fingerResult.withBackup) {
                console.log("Authenticated with backup password");
		    alert("Authenticated with backup password");
            }
        // Error callback
        }, function(err){
                if (err === "Cancelled") {
                console.log("FingerprintAuth Dialog Cancelled!");
			 alert("FingerprintAuth Dialog Cancelled!");
			
            } else {
                console.log("FingerprintAuth Error: " + err);
		     alert("FingerprintAuth Error: " + err);
            }
        });
    }

/**
* @return {
*      isAvailable:boolean,
*      isHardwareDetected:boolean,
*      hasEnrolledFingerprints:boolean
*   }
*/
}, function (message) {
    console.log("isAvailableError(): " + message);
	   alert("isAvailableError(): " + message);
});
</script>
</body>
</html>
